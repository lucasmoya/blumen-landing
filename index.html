<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blumen - Tu lugar para desconectarte</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="public/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="public/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="public/apple-touch-icon.png">
    <link rel="manifest" href="public/site.webmanifest">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>
    
    <div id="main-content" style="opacity: 0;">
    <!-- Hero Section -->
    <div class="hero">
        <div class="hero-background-slideshow">
            <div class="hero-slide active" style="background-image: url('public/background-index/1.jpg')"></div>
            <div class="hero-slide" style="background-image: url('public/background-index/2.jpg')"></div>
            <div class="hero-slide" style="background-image: url('public/background-index/3.jpg')"></div>
            <div class="hero-slide" style="background-image: url('public/background-index/4.jpg')"></div>
            <div class="hero-slide" style="background-image: url('public/background-index/5.jpg')"></div>
            <div class="hero-slide" style="background-image: url('public/background-index/6.jpg')"></div>
        </div>
        <div class="hero-overlay"></div>
        
        <!-- Navigation -->
        <header>
            <nav>
                <div class="logo">
                    <a href="index.html">
                        <img src="https://i.postimg.cc/rskt76HR/blumen-mobile.png" alt="Blumen Logo">
                    </a>
                </div>
                <div class="nav-links">
                    <a href="entorno.html">Entorno</a>
                    <a href="rooms.html">Habitaciones</a>
                    <a href="https://app.menuo.cl/blumenhotel" target="_blank">Café</a>
                </div>
                <button class="app-button" onclick="window.open('https://reservation.gofeels.com/es/reservation/?token=c5e0b3c8-efe9-4cb5-b3bc-33536d76f389&rooms', '_blank')">
                    Reservar
                    <i class="fa-solid fa-bell-concierge"></i>
                </button>
            </nav>
        </header>

        <!-- Hero Content -->
        <div class="hero-content">
            <!-- Search Form -->
            <div class="search-form">
                <div class="search-container">
                    <div class="search-input">
                        <i class="fas fa-tag"></i>
                        <input type="text" placeholder="Código descuento">
                    </div>
                    <div class="search-input">
                        <i class="fas fa-calendar"></i>
                        <input type="text" placeholder="Check in" id="checkin" readonly>
                    </div>
                    <div class="search-input">
                        <i class="fas fa-calendar"></i>
                        <input type="text" placeholder="Check out" id="checkout" readonly>
                    </div>
                    <div class="search-actions">
                        <div class="search-input guest-dropdown-container">
                            <i class="fas fa-users"></i>
                            <input type="text" readonly placeholder="Huéspedes" id="guestSummary">
                            <div class="guest-dropdown">
                                <div class="guest-type">
                                    <span>Adultos</span>
                                    <div class="counter">
                                        <button class="counter-btn minus" data-type="adults">-</button>
                                        <span class="count" id="adultsCount">2</span>
                                        <button class="counter-btn plus" data-type="adults">+</button>
                                    </div>
                                </div>
                                <div class="guest-type">
                                    <span>Niños (2-12 años)</span>
                                    <div class="counter">
                                        <button class="counter-btn minus" data-type="children">-</button>
                                        <span class="count" id="childrenCount">0</span>
                                        <button class="counter-btn plus" data-type="children">+</button>
                                    </div>
                                </div>
                                <div class="guest-type">
                                    <span>Bebés (0-2 años)</span>
                                    <div class="counter">
                                        <button class="counter-btn minus" data-type="babies">-</button>
                                        <span class="count" id="babiesCount">0</span>
                                        <button class="counter-btn plus" data-type="babies">+</button>
                                    </div>
                                </div>
                                <button class="apply-btn">Aplicar</button>
                            </div>
                        </div>
                        <button class="search-button" id="searchButton">Buscar</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Nuevo: Botón Explore More -->
        <a href="#highlights" class="explore-more" id="exploreMoreBtn">
            <span>Explore más</span>
            <div class="arrow-down">
                <i class="fas fa-chevron-down"></i>
            </div>
        </a>
    </div>
    <!-- Sección de Destacados con Fotos -->
    <div class="highlights-section" id="highlights">
        <div class="container">
            <div class="highlights-grid">
                <a href="entorno.html" class="highlight-card">
                    <img src="public/entorno.jpg" alt="Entorno" class="highlight-image">
                    <div class="highlight-overlay">
                        <h3 class="highlight-title">Entorno</h3>
                    </div>
                </a>
                <div class="highlight-card">
                    <a href="rooms.html">
                        <img src="public/habitaciones.jpg" alt="Habitaciones" class="highlight-image">
                        <div class="highlight-overlay">
                            <h3 class="highlight-title">Habitaciones</h3>
                        </div>
                    </a>
                </div>
                <a href="https://app.menuo.cl/blumenhotel" target="_blank" class="highlight-card">
                    <img src="public/cafeteria.jpg" alt="Café" class="highlight-image">
                    <div class="highlight-overlay">
                        <h3 class="highlight-title">Café</h3>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Features Section stays in third position -->
    <div class="features-section">
        <div class="container">
            <div class="features-grid">
                <div class="feature">
                    <h3>Ubicación privilegiada</h3>
                    <p>En Costa Brava, Concón, rodeado de dunas y a solo 300 metros de la costanera. Disfrute de un entorno costero exclusivo y tranquilo.</p>
                </div>
                <div class="feature">
                    <h3>Instalaciones</h3>
                    <p>Piscina, jacuzzi al aire libre, sauna, sala de masajes y cafetería con vista al mar. 12 habitaciones, 8 con vista al océano.</p>
                </div>
                <div class="feature">
                    <h3>Experiencia costera</h3>
                    <p>Disfrute de la serenidad junto al mar, con playas cercanas, dunas naturales y la tranquilidad que busca para desconectarse.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Info Section moved down to fifth position -->
    <div class="info-section" id="info-section">
        <div class="container">
            <div class="info-content">
                <div class="info-text">
                    <h2>Nuestro hotel está ubicado en Concón, en el sector de Costa Brava, característico por su tranquilidad y hermosas vistas.</h2>
                    <p>Ubicado en el corazón de la capital gastronómica de Chile, Blumen Hotel te invita a vivir la auténtica esencia de Concón: un destino donde la buena mesa, la naturaleza y el mar se combinan en perfecta armonía. A pocos pasos de reconocidas picadas y restaurantes de cocina marina, podrás disfrutar de lo mejor del Pacífico chileno mientras contemplas las vistas únicas de la costa. Muy cerca también encontrarás la icónica Playa La Boca, punto de encuentro de surfistas durante todo el año, ideal para quienes buscan energía, deporte y atardeceres inolvidables.</p>
                </div>
                <div class="info-map" id="map"></div>
            </div>
        </div>
    </div>

    <!-- Footer remains at the bottom -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="https://i.postimg.cc/rskt76HR/blumen-mobile.png" alt="Blumen Logo" class="footer-logo">
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                        <a href="#"><i class="far fa-envelope"></i></a>
                    </div>
                </div>
                <div class="footer-address">
                    <p>Las Pimpinelas 310,</p>
                    <p>Costa Brava,</p>
                    <p>Concón.</p>
                </div>
            </div>
        </div>
        <!-- Legal footer section -->
        <div class="legal-footer">
            <div class="container">
                <div class="legal-footer-content">
                    <div class="legal-links">
                        <a href="#" id="politicas-link">Términos y condiciones</a>
                    </div>
                    <div class="copyright">
                        <span>Powered by</span>
                        <img src="public/protolab-logo.png" alt="Protolab Logo">
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Eliminar la referencia a Google Maps y agregar Mapbox -->
    <script src="script.js"></script>
    <script src="datepicker.js"></script>
    <script src="guests.js"></script>
    <script src="background-slideshow.js"></script>
    
    <!-- Mapbox CSS y JS -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
    
    <script src="mapbox.js"></script>
    
    <!-- Botón de WhatsApp fijo -->
    <a href="https://wa.me/+56982161327" class="whatsapp-button" target="_blank">
        <img src="https://brandlogos.net/wp-content/uploads/2013/04/whatsapp-logo-symbol-vector.png" alt="WhatsApp">
    </a>
    </div>
    <!-- End main-content -->
    
    <!-- Modal de Políticas -->
    <div id="politicas-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Políticas de propiedad</h2>
                <button class="modal-close" id="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="politicas-content">
                    <section class="politica-section">
                        <h3>Consideraciones generales</h3>
                        <div class="politica-item">
                            <h4>Prohibición de fumar</h4>
                            <p>No se permite fumar dentro de las habitaciones. Si desea hacerlo, consulte con administración por los espacios habilitados.</p>
                        </div>
                        <div class="politica-item">
                            <h4>Mascotas</h4>
                            <p>No se admiten animales de compañía.</p>
                        </div>
                        <div class="politica-item">
                            <h4>Ruido y convivencia</h4>
                            <p>La música, conversaciones o ruidos en terrazas están permitidos hasta las 21:00 horas. Posterior a ese horario, solicitamos mantener volumen bajo para resguardar el descanso de todos nuestros huéspedes.</p>
                        </div>
                        <div class="politica-item">
                            <h4>Check-in y Check-out</h4>
                            <ul>
                                <li><strong>Check-in:</strong> desde las 15:00 horas.</li>
                                <li><strong>Check-out:</strong> hasta las 12:00 horas.</li>
                                <li>Después de las 12:00 horas se cobrará un día adicional de estadía.</li>
                            </ul>
                        </div>
                    </section>

                    <section class="politica-section">
                        <h3>Servicios y consideraciones para una estadía confortable</h3>
                        <ul>
                            <li>El servicio de mantención de habitaciones se realiza previo aviso a administración.</li>
                            <li>Se entrega 1 set de toallas por persona al día.</li>
                            <li>Las toallas del hotel son exclusivamente para uso en la ducha. Para piscina, jacuzzi o playa, el huésped debe traer sus propias toallas.</li>
                            <li>El servicio de mucamas incluye aseo diario de habitaciones, camas y baño.</li>
                            <li>No incluye lavado de loza, utensilios de cocina, horno ni cocina.</li>
                            <li>Las habitaciones serán revisadas al momento del Check-out.</li>
                            <li>Cualquier daño o pérdida ocasionado a la propiedad será cargado a la cuenta del huésped responsable.</li>
                            <li>Servicio de lavado de ropa disponible: $18.000 por carga.</li>
                        </ul>
                    </section>

                    <section class="politica-section">
                        <h3>Políticas de Cancelación</h3>
                        <ul>
                            <li>Cancelaciones con mínimo 48 horas de anticipación: reembolso del 75% del valor abonado.</li>
                            <li>Cancelaciones con menos de 48 horas de anticipación: no cuentan con reembolso.</li>
                            <li>Re-agendamientos: se permiten sin costo con un mínimo de 24 horas de anticipación.</li>
                            <li>No se realizan reembolsos si el huésped decide retirarse al llegar al hotel.</li>
                            <li>No se realizan reembolsos si el huésped decide retirarse antes de su fecha de Check-out; deberá cancelar el saldo completo de la estadía.</li>
                        </ul>
                    </section>

                    <section class="politica-section">
                        <h3>Uso de Instalaciones</h3>
                        <div class="politica-item">
                            <h4>Sauna</h4>
                            <p>Servicio externo al uso de la habitación. Disponible según disponibilidad.</p>
                            <p><strong>Valores:</strong></p>
                            <ul>
                                <li>$15.000 por persona</li>
                                <li>$25.000 para dos o más personas</li>
                            </ul>
                        </div>
                        <div class="politica-item">
                            <h4>Jacuzzi</h4>
                            <p>Instalación externa incluida sin costo adicional.</p>
                            <ul>
                                <li><strong>Horario de uso:</strong> 18:00 a 23:00 horas</li>
                                <li>Requiere coordinación previa con recepción.</li>
                            </ul>
                        </div>
                        <div class="politica-item">
                            <h4>Piscina</h4>
                            <p>Instalación externa incluida sin costo adicional.</p>
                            <p><strong>Horario de uso:</strong> 10:00 a 21:00 horas</p>
                        </div>
                        <div class="politica-item">
                            <h4>Cafetería</h4>
                            <p><strong>Horario de funcionamiento:</strong></p>
                            <ul>
                                <li>Lunes a viernes: 9:00 a 21:00 hrs (pausa de 13:00 a 15:00 hrs)</li>
                                <li>Fin de semana: 9:00 a 22:30 hrs</li>
                            </ul>
                            <p>En caso de estar cerrada, comunicarse por WhatsApp para verificar disponibilidad.</p>
                        </div>
                    </section>

                    <section class="politica-section">
                        <h3>Instrucción de uso – Duchas</h3>
                        <p>La ducha permite regular temperatura y presión moviendo la palanca bajo la regadera:</p>
                        <ul>
                            <li><strong>Caliente:</strong> hacia la izquierda y bajar la presión</li>
                            <li><strong>Tibia:</strong> hacia la izquierda y subir</li>
                            <li><strong>Fría:</strong> hacia la derecha y subir</li>
                        </ul>
                    </section>

                    <section class="politica-section">
                        <h3>Códigos QR disponibles</h3>
                        <ul>
                            <li>Wi-Fi</li>
                            <li>Carta</li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Modal de Políticas
        document.addEventListener('DOMContentLoaded', function() {
            const politicasLink = document.getElementById('politicas-link');
            const politicasModal = document.getElementById('politicas-modal');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            
            // Función para cerrar modal con animación suave
            function closeModal() {
                politicasModal.classList.remove('active');
                // Esperar a que termine la animación antes de restaurar scroll
                setTimeout(function() {
                    document.body.style.overflow = '';
                }, 250); // Tiempo de la animación
            }
            
            // Abrir modal
            if (politicasLink) {
                politicasLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    politicasModal.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevenir scroll del body
                });
            }
            
            // Cerrar modal con botón
            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', closeModal);
            }
            
            // Cerrar modal al hacer clic fuera del contenido
            if (politicasModal) {
                politicasModal.addEventListener('click', function(e) {
                    if (e.target === politicasModal) {
                        closeModal();
                    }
                });
            }
            
            // Cerrar modal con tecla ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && politicasModal.classList.contains('active')) {
                    closeModal();
                }
            });
        });
        
        // Función para cargar imágenes y esperar a que se carguen
        function loadImages(urls) {
            return Promise.all(
                urls.map(url => {
                    return new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = resolve;
                        img.onerror = resolve; // Resolver incluso si hay error para no bloquear
                        img.src = url;
                    });
                })
            );
        }

        // Función para ocultar el loading
        function hideLoading() {
            const spinner = document.getElementById('loading-spinner');
            const mainContent = document.getElementById('main-content');
            
            if (spinner && mainContent) {
                // Fade out del spinner
                spinner.style.opacity = '0';
                spinner.style.transition = 'opacity 0.5s ease-out';
                
                // Fade in del contenido
                mainContent.style.opacity = '1';
                mainContent.style.transition = 'opacity 0.5s ease-in';
                
                // Remover el spinner del DOM después de la animación
                setTimeout(function() {
                    spinner.style.display = 'none';
                }, 500);
            }
        }

        // Imágenes del hero slideshow para index.html
        const heroImages = [
            'public/background-index/1.jpg',
            'public/background-index/2.jpg',
            'public/background-index/3.jpg',
            'public/background-index/4.jpg',
            'public/background-index/5.jpg',
            'public/background-index/6.jpg'
        ];

        // Esperar a que las fuentes y las imágenes del hero se carguen
        Promise.all([
            document.fonts.ready,
            loadImages(heroImages)
        ]).then(function() {
            // Ocultar el loading cuando todo esté listo
            hideLoading();
        });
    </script>
</body>
</html>